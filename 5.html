<!DOCTYPE html>
<html lang="en" ng-app="studentApp"> <!-- Declare AngularJS app -->

<head>
    <meta charset="UTF-8">
    <title>Student details</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script> <!-- Include AngularJS library -->
</head>

<body style="background-color: yellow;"> <!-- Set background color to yellow -->
    <div ng-controller="StudentController">
        <h2 style="background-color: red; text-align: center;">Student details</h2> <!-- Heading for student details -->

        <label for="numberofStudents">Number of Students:</label> <!-- Label for number of students input -->
        <input type="number" id="numberofStudents" ng-model="numberofStudents" ng-change="updateStudentList()" /> <!-- Input field for number of students -->

        <div ng-repeat="student in students"> <!-- Loop through each student -->
            <h3 style="color: blue;">Student {{$index+1}}</h3> <!-- Heading for each student -->
            <p>Name:{{student.name}}</p> <!-- Display student name -->
            <p>Cgpa:{{student.cgpa}}</p> <!-- Display student CGPA -->
        </div>

        <p style="color:green;">Total Students:{{students.length}}</p> <!-- Display total number of students -->
    </div>

    <script>
        var app = angular.module('studentApp', []); // Define AngularJS module

        app.controller('StudentController', function ($scope) { // Define controller
            $scope.numberofStudents = 0; // Initialize numberofStudents to 0
            $scope.students = []; // Initialize students array

            $scope.updateStudentList = function () { // Function to update student list
                $scope.students = []; // Clear students array
                for (var i = 0; i < $scope.numberofStudents; i++) { // Loop to create students
                    $scope.students.push({
                        name: 'Student' + (i + 1), // Generate student name
                        cgpa: getRandomCGPA() // Generate random CGPA
                    });
                }
            };

            function getRandomCGPA() { // Function to generate random CGPA
                // Generate a random CGPA between 2 and 4
                return (Math.random() * (4.0 - 2.0) + 2.0).toFixed(2);
            }
        });
    </script>
</body>

</html>
